(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),o=n(10),r=n.n(o),u=(n(17),n(8)),s=n(3),i=(n(18),n(9),n(6)),l=n.n(i),j=n(11);function b(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),o=n[0],r=n[1];return Object(c.jsx)("header",{className:"Searchbar",children:Object(c.jsxs)("form",{className:"SearchForm",onSubmit:function(t){t.preventDefault(),e.onSubHand(o),r("")},children:[Object(c.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(c.jsx)("span",{className:"SearchForm-button-label",children:Object(c.jsx)(j.a,{})})}),Object(c.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.currentTarget.value)}})]})})}function m(e){var t=e.urlImage,n=e.altImage,a=e.idImage,o=e.onSubId;return Object(c.jsx)("li",{className:"ImageGalleryItem",children:Object(c.jsx)("img",{src:t,alt:n,"data-id":a,className:"ImageGalleryItem-image",onClick:function(e){o(e.currentTarget.dataset.id)}})})}function d(e){var t=function(t){e.onSubIdHends(t)};return Object(c.jsx)("ul",{className:"ImageGallery",children:e.gallery.map((function(e){return Object(c.jsx)(m,{onSubId:t,urlImage:e.webformatURL,altImage:e.tags,urlLargeImage:e.largeImageURL,idImage:e.id},e.id)}))})}var h=n(0).useState;function O(e){console.log(e);var t=h(2),n=Object(s.a)(t,2),a=n[0],o=n[1];return Object(c.jsx)("button",{type:"button",onClick:function(){o((function(e){return e+1})),e.onSubPageNum(a)},className:"Button",children:"Load more"})}function f(e){var t=Object(a.useState)(),n=Object(s.a)(t,2),o=n[0],r=n[1],u=Object(a.useState)(!0),i=Object(s.a)(u,2),j=i[0],b=i[1],m=function(t){"Escape"===t.code&&e.onCloseHend()};return Object(a.useEffect)((function(){window.addEventListener("keydown",m),function(e){var t="https://pixabay.com/api/?id=".concat(e,"&key=").concat("18956584-3ac01e2418e4c39c7eb5dacd9");return fetch(t).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u044e\u0442"))}))}(e.imgId).then((function(e){var t=e.hits;r(t[0].largeImageURL)})).finally((function(){return b(!1)}))})),Object(c.jsx)("div",{className:"Overlay",onClick:function(t){t.currentTarget===t.target&&e.onCloseHend()},children:Object(c.jsxs)("div",{className:"Modal",children:[j&&Object(c.jsx)(l.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100}),Object(c.jsx)("img",{src:o,alt:""})]})})}function g(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(1),i=Object(s.a)(r,2),j=i[0],m=i[1],h=Object(a.useState)([]),g=Object(s.a)(h,2),p=g[0],S=g[1],x=Object(a.useState)(""),v=Object(s.a)(x,2),I=v[0],y=v[1],w=Object(a.useState)(0),N=Object(s.a)(w,2),k=N[0],F=N[1],C=Object(a.useState)(!1),E=Object(s.a)(C,2),H=E[0],L=E[1],T=Object(a.useState)(!1),B=Object(s.a)(T,2),P=B[0],D=B[1],G=Object(a.useState)(!1),R=Object(s.a)(G,2),U=R[0],J=R[1],_=function(){L((function(e){return!e}))},q=function(){D((function(e){return!e}))};return Object(a.useEffect)((function(){n&&(_(),function(e,t){var n="https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("18956584-3ac01e2418e4c39c7eb5dacd9","&image_type=photo&orientation=horizontal&per_page=12");return fetch(n).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u044e\u0442"))}))}(n,j).then((function(e){var t=e.hits;S((function(e){return p===[]?t:[].concat(Object(u.a)(e),Object(u.a)(t))})),J(!0)})).finally((function(){_(),window.scrollTo({top:k,behavior:"smooth"})})))}),[n,j]),Object(c.jsxs)("div",{className:"main-conteiner",children:[Object(c.jsx)(b,{onSubHand:function(e){S([]),o(e),m(1)}}),Object(c.jsx)(d,{gallery:p,onSubIdHends:function(e){_(),q(),y(e),_()}}),H&&Object(c.jsx)(l.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100}),U&&Object(c.jsx)(O,{onSubPageNum:function(e){var t=document.documentElement.scrollHeight-170;m(e),F(t)}}),P&&Object(c.jsx)(f,{onCloseHend:q,imgId:I})]})}r.a.render(Object(c.jsx)(g,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.d1eb9b9e.chunk.js.map